{% extends "webui/search/base.html" %}


{% block title %}Admin{% endblock %}

{% block breadcrumbs %}{{ block.super }}
<li class="active">Admin</li>
{% endblock breadcrumbs %}


{% block content %}

  <div class="row-fluid">
    <div class="span12">

<h1>
Search Admin
</h1>


<h3>
Status
</h3>

{% if not ping %}
<div class="alert alert-danger">
No response from Elasticsearch server!
</div>
{% endif %}

{% if no_indices %}
<div class="alert alert-danger">
You have no indices &mdash; you need to re-index!
</div>
{% endif %}

<table class="table table-striped table-condensed">
{% for line in server_info %}
  <tr class="{{ line.class }}"><th>{{ line.label }}</th><td>{{ line.data }}</td></tr>
{% endfor %}
</table>

<h3>
Re-index
</h3>

<form name="indexconfirm" action="{% url "webui-search-reindex" %}" method="post">{% csrf_token %}
{{ indexform.as_p }}
<input name="submit" type="submit" value="Re-index" />
</form>


<h3>
Drop Indexes
</h3>

<form name="dropconfirm" action="{% url "webui-search-drop" %}" method="post">{% csrf_token %}
{{ dropform.as_p }}
<input name="submit" type="submit" value="Drop Index" />
</form>

    </div><!-- .span12 -->
  </div><!-- .row-fluid -->

{% endblock content %}
