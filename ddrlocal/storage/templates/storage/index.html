{% extends "base.html" %}


{% block title %}Storage{% endblock %}

{% block breadcrumbs %}{{ block.super }}
<li class="active">Storage</li>
{% endblock breadcrumbs %}


{% block content %}

<h1>Storage</h1>


{% if removables_mounted %}

<table id="removables" class="mounted">
<form name="mount" action="" method="post">{% csrf_token %}
  {{ umount_form.as_table }}
{% if removables_mounted %}
  <tr>
    <td></td>
    <td>
      <input name="submit" type="submit" value="Unmount selected device" />
    </td>
  </tr>
</table>
{% else %}
<p>
No removable devices attached to this VM.<br/>
Plug a USB drive into your computer<br/>
Select device from <em>Devices > USB Devices</em> from the VM menu.<br/>
Reload this page.<br/>
</p>
{% endif %}
</form>

{% else %}

<table id="removables" class="unmounted">
<form name="mount" action="" method="post">{% csrf_token %}
  {{ mount_form.as_table }}
{% if removables %}
  <tr>
    <td></td>
    <td>
      <input name="submit" type="submit" value="Mount selected device" />
    </td>
  </tr>
</table>
{% else %}
<p>
No removable devices attached to this VM.<br/>
Plug a USB drive into your computer<br/>
Select device from <em>Devices > USB Devices</em> from the VM menu.<br/>
Reload this page.<br/>
</p>
{% endif %}
</form>

{% endif %}

<div class="muted">
<h4>Help / Troubleshooting</h4>

<dl>

  <dt>
    Is it plugged in?
  </dt>
  <dd>
    <p>
    Is the USB device physically plugged in to the machine you are using?<br/>
    Does the USB device appear in the <strong>Devices > USB Devices</strong> menu, and is it selected?
    </p>
  </dd>

  <dt>
    Have you tried turning it off an on again?
  </dt>
  <dd>
    <p>
    Try unmounting the drive using the form above, and then remounting it.
    This is often the first thing that IT professionals try, and it often works!
    </p>
  </dd>

  <dt>
    You just said we need to remount the drive, and now this page says I have to unmount?
    I don't understand&mdash;which one is it???
  </dt>
  <dd>
    <p>
    When you shut down the virtual machine (VM), it sometimes cannot automatically reconnect to the USB drive.
    This program often has the information it needs to try a different method of remounting.
    But sometimes that doesn't work either.
    Just click "Unmount" and then "Mount" again.
    </p>
  </dd>

  <dt>
    Nothing's working! I can't get this program to see my USB drive!!! o_O
  </dt>
  <dd>
    <p>
    Try rebooting the Virtual Machine (VM):
    </p>
    <ol>
      <li>Keep this browser window open.</li>
      <li>Find the "VirtualBox Manager" window (title may be slightly different).</li>
      <li>Find Virtual Machine</li>
      <li>Right-click on the VM, select "Close" and then "ACPI Shutdown" from the pop-up menu.</li>
      <li>Wait for the VM to finish shutting down.</li>
      <li>Right-click on the VM and select "Start".</li>
      <li>Refresh the browser window.</li>
    </ol>
    
  </dd>

</dl>
</div>

<p>
remount_uri: {{ remount_uri }}
</p>

{% endblock content %}
